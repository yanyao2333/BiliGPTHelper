<h2 align="center">âœ¨Bili GPT Helperâœ¨</h2>
<h5 align="center">åŸºäºLLMçš„Bç«™äººå½¢è‡ªèµ°bot</h5>

[![Python 3.11](https://img.shields.io/badge/python-3.11-blue.svg)](https://www.python.org/downloads/release/python-311/)
[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)
[![wakatime](https://wakatime.com/badge/user/41ab10cc-ec82-41e9-8417-9dcf5a9b5947/project/cef4699c-8d07-4cf0-9d0a-ef83fb353b82.svg)](https://wakatime.com/badge/user/41ab10cc-ec82-41e9-8417-9dcf5a9b5947/project/cef4699c-8d07-4cf0-9d0a-ef83fb353b82)
[![FOSSA Status](https://app.fossa.com/api/projects/git%2Bgithub.com%2Fyanyao2333%2FBiliGPTHelper.svg?type=shield)](https://app.fossa.com/projects/git%2Bgithub.com%2Fyanyao2333%2FBiliGPTHelper?ref=badge_shield)

### ğŸŒŸ ä»‹ç»

ä½ å¯ä»¥æŠŠå®ƒç®€å•çœ‹ä½œæ˜¯bç«™é‚£äº›æ€»ç»“æœºå™¨äººçš„å¼€æºç‰ˆï¼Œä½†å®ƒä¹Ÿå¹¶ä¸ç®€å•ï¼Œä½¿ç”¨è¿™ä¸ªé¡¹ç›®ï¼Œä½ å¯ä»¥å¿«é€Ÿè½»æ¾å¯¹æ¥ä½ å·²ç»æ‹¥æœ‰çš„è¯­éŸ³è½¬æ–‡å­—ã€å¤§è¯­è¨€æ¨¡å‹æ¥å£ï¼Œä¸å¿…å†å› ä¸ºæ¥å£ä¸é€‚é…è€Œå‘æ„ã€‚

è¯¥é¡¹ç›®è¿˜æ‹¥æœ‰ä»¥ä¼˜å…ˆçº§ä¸ºåŸºç¡€çš„è¯­éŸ³è½¬æ–‡å­—ã€å¤§è¯­è¨€æ¨¡å‹æ¥å£è°ƒåº¦ï¼Œåœ¨æŸä¸ªæ¥å£è¾¾åˆ°ä¸€å®šå‡ºé”™é˜ˆå€¼åè‡ªåŠ¨åˆ‡æ¢å…¶ä»–æ¥å£ï¼Œä¿è¯ç¨‹åºç¨³å®šæ€§ã€‚

å…¶ä»–æ›´å¤šè¯·çœ‹ä¸‹é¢çš„Featuresä¸»é¢˜ï¼

### ğŸ“œ å£°æ˜

å½“ä½ æŸ¥é˜…ã€ä¸‹è½½äº†æœ¬é¡¹ç›®æºä»£ç æˆ–äºŒè¿›åˆ¶ç¨‹åºï¼Œå³ä»£è¡¨ä½ æ¥å—äº†ä»¥ä¸‹æ¡æ¬¾

æœ¬é¡¹ç›®å’Œé¡¹ç›®æˆæœä»…ä¾›æŠ€æœ¯ï¼Œå­¦æœ¯äº¤æµå’ŒPython3æ€§èƒ½æµ‹è¯•ä½¿ç”¨

æœ¬é¡¹ç›®è´¡çŒ®è€…ç¼–å†™è¯¥é¡¹ç›®æ—¨åœ¨å­¦ä¹ Python3 ï¼Œæé«˜ç¼–ç¨‹æ°´å¹³

ç”¨æˆ·åœ¨ä½¿ç”¨æœ¬é¡¹ç›®å’Œé¡¹ç›®æˆæœå‰ï¼Œè¯·ç”¨æˆ·äº†è§£å¹¶éµå®ˆå½“åœ°æ³•å¾‹æ³•è§„ï¼Œå¦‚æœæœ¬é¡¹ç›®åŠé¡¹ç›®æˆæœä½¿ç”¨è¿‡ç¨‹ä¸­å­˜åœ¨è¿åå½“åœ°æ³•å¾‹æ³•è§„çš„è¡Œä¸ºï¼Œè¯·å‹¿ä½¿ç”¨è¯¥é¡¹ç›®åŠé¡¹ç›®æˆæœ

æ³•å¾‹åæœåŠä½¿ç”¨åæœç”±ä½¿ç”¨è€…æ‰¿æ‹…

å¼€å‘è€…ï¼ˆyanyao2333ï¼‰ä¸ä¼šå°†ä»»ä½•ç”¨æˆ·çš„cookieã€ä¸ªäººä¿¡æ¯æ”¶é›†ä¸Šä¼ è‡³é™¤bç«™å®˜æ–¹çš„å…¶ä»–å¹³å°æˆ–æœåŠ¡å™¨ã€‚åŒæ—¶ï¼Œå¼€å‘è€…ï¼ˆyanyao2333ï¼‰ä¸å¯¹ä»»ä½•æ’ä»¶é€ æˆçš„åæœè´Ÿè´£ï¼ˆåŒ…æ‹¬ä½†ä¸é™äºè´¦å·å°ç¦ç­‰åæœï¼‰ï¼Œå¦‚æœ‰é¡¾è™‘ï¼Œè¯·è°¨æ…ä½¿ç”¨

è‹¥ç”¨æˆ·ä¸åŒæ„ä¸Šè¿°æ¡æ¬¾ä»»æ„ä¸€æ¡ï¼Œè¯·å‹¿ä½¿ç”¨æœ¬é¡¹ç›®å’Œé¡¹ç›®æˆæœ

### ğŸ˜ ç‰¹æ€§

- [x] ä½¿ç”¨å¤§æ¨¡å‹ç”Ÿæˆæ€»ç»“
- [x] å·²æ”¯æŒClaudeã€Openaiå¤§è¯­è¨€æ¨¡å‹
- [x] å·²æ”¯æŒopenaiçš„whisperå’Œæœ¬åœ°whisperè¯­éŸ³è½¬æ–‡å­—
- [x] æ”¯æŒçƒ­æ’æ‹”çš„asrå’Œllmæ¨¡å—ï¼ŒåŸºäºä¼˜å…ˆçº§å’Œè¿è¡Œç¨³å®šæƒ…å†µè°ƒåº¦
- [x] ä¼˜åŒ–promptï¼Œè¾¾åˆ°æ›´å¥½çš„æ•ˆæœã€æ›´é«˜çš„ä¿¡æ¯å¯†åº¦ï¼Œå°½é‡ä¸å†è¯´åºŸè¯ã€‚è¿˜å¯ä»¥è®©LLMè¾“å‡ºè‡ªå·±çš„æ€è€ƒã€è¯„åˆ†ï¼Œè®©æ‘˜è¦æ›´æœ‰æ„æ€
- [x] æ”¯æŒllmè¿”å›æ¶ˆæ¯æ ¼å¼ä¸å¯¹è‡ªåŠ¨ä¿®å¤
- [x] æ”¯æŒè‰¾ç‰¹å’Œç§ä¿¡ä¸¤ç§è§¦å‘æ–¹å¼
- [x] æ”¯æŒè§†é¢‘ç¼“å­˜ï¼Œé¿å…é‡å¤ç”Ÿæˆ
- [x] å¯è‡ªåŠ¨æ£€æµ‹å’Œåˆ·æ–°bç«™cookieï¼ˆå®éªŒæ€§åŠŸèƒ½ï¼‰
- [x] æ”¯æŒè‡ªå®šä¹‰è§¦å‘å…³é”®è¯
- [x] æ”¯æŒä¿å­˜å½“å‰å¤„ç†è¿›åº¦ï¼Œä¸‹æ¬¡å¯åŠ¨æ—¶æ¢å¤
- [x] æ”¯æŒä¸€é”®ç”Ÿæˆå¹¶ä¸ç²¾ç¾çš„è¿è¡ŒæŠ¥å‘Šï¼ŒåŒ…å«ä¸€äº›å›¾è¡¨

### ğŸš€ ä½¿ç”¨æ–¹æ³•

#### ä¸€ã€é€šè¿‡dockerè¿è¡Œ

ç°åœ¨æœ‰ä¸¤ä¸ªç‰ˆæœ¬çš„dockerï¼Œä»£ç éƒ½æ˜¯æœ€æ–°ç‰ˆæœ¬ï¼Œåªæ˜¯åŒ…ä¸ä¸€æ ·:
1. latest è¿™ä¸ªç‰ˆæœ¬ä¸åŒ…å«whisperï¼Œä¹Ÿå°±æ˜¯åªèƒ½ç”¨æ¥æ€»ç»“åŒ…å«å­—å¹•çš„è§†é¢‘ã€‚è¿™ä¸ªé•œåƒåªæœ‰200å¤šmï¼Œé€‚åˆå¶å°”ä½¿ç”¨
2. with_whisper è¿™ä¸ªç‰ˆæœ¬åŒ…å«whisperï¼Œå¤§å°è¾¾åˆ°äº†2gï¼Œä½†æ˜¯å¯ä»¥ä½¿ç”¨**æœ¬åœ°**è¯­éŸ³è½¬æ–‡å­—ç”Ÿæˆå­—å¹•



```shell
docker pull yanyaobbb/bilibili_gpt_helper:latest
æˆ–
yanyaobbb/bilibili_gpt_helper:with_whisper
```

```shell
docker run -d \
    --name biligpthelper \
    -v ä½ æœ¬åœ°çš„biligpté…ç½®æ–‡ä»¶ç›®å½•:/data \
    yanyaobbb/bilibili_gpt_helper:latestï¼ˆwith_whisperï¼‰
```

é¦–æ¬¡è¿è¡Œä¼šåˆ›å»ºæ¨¡æ¿æ–‡ä»¶ï¼Œç¼–è¾‘config.ymlï¼Œç„¶åé‡å¯å®¹å™¨å³å¯

#### äºŒã€æºä»£ç è¿è¡Œ

1. å…‹éš†å¹¶å®‰è£…ä¾èµ–

```shell
git clone https://github.com/yanyao2333/BiliGPTHelper.git
cd BiliGPTHelper
pip install -r requirements.txt
```

2. ç¼–è¾‘config.yml

3. è¿è¡Œï¼Œç­‰å¾…åˆå§‹åŒ–å®Œæˆ

```shell
python main.py
```

#### è§¦å‘æ–¹å¼

##### ç§ä¿¡

1. æ‰‹æœºç«¯è§†é¢‘é¡µåˆ†äº«è§†é¢‘å¹¶é™„å¸¦ä¸€æ¡æ–‡å­—æ¶ˆæ¯ï¼Œä¾‹å¦‚"æ€»ç»“ä¸€ä¸‹"ï¼Œå³å¯è§¦å‘æ€»ç»“
2. å‘é€"[å…³é”®å­—][ç©ºæ ¼]è§†é¢‘bvå·"ï¼ˆä¾‹å¦‚"æ€»ç»“ä¸€ä¸‹ BVxxxxxxx"ï¼‰

##### at

åœ¨è¯„è®ºåŒºå‘é€å…³é”®å­—å³å¯


### ğŸ’¸ è¿™ç©æ„çƒ§é’±å—

#### Claude

claudeæ‰æ˜¯å”¯ä¸€çœŸç¥ï¼ï¼ï¼æ¯”gpt-3.5-turbo-16kä½å°†è¿‘ä¸€åŠçš„ä»·æ ¼ï¼ˆæŒ‡promptä»·æ ¼ï¼‰ï¼Œè¿˜æœ‰100kçš„ä¸Šä¸‹æ–‡çª—å£ï¼è¾“å‡ºçš„æ ¼å¼ä¹Ÿå¾ˆç¨³å®šï¼Œå†…å®¹è´¨é‡ä¸3.5ä¸ç›¸ä¸Šä¸‹ã€‚

ç°åœ¨å¯¹æ¥äº†ä¸ªaiproxyçš„claudeæ¥å£ï¼Œç®€ç›´é¦™ç‚¸...gpt3.5æ˜¯ä»€ä¹ˆï¼ŸçœŸä¸ç†Ÿ

#### GPT

æ ¹æ®æˆ‘çš„æµ‹è¯•ï¼Œå•çº¯ä½¿ç”¨**gpt-3.5-turbo-16k**ï¼Œ20å…ƒå¤§æ¦‚èƒ½æ’‘èµ·5000æ¬¡æ—¶é•¿ä¸º10minå·¦å³çš„è§†é¢‘æ€»ç»“ï¼ˆåœ¨ä¸åŒ…æ‹¬æ ¼å¼ä¸å¯¹é‡è¯•çš„æƒ…å†µä¸‹ï¼‰

ä½†åœ¨æˆ‘çš„æµ‹è¯•ä¸­ï¼Œgpt3.5è¿”å›çš„å†…å®¹å·²ç»ååˆ†ç¨³å®šï¼Œæˆ‘å¹¶æ²¡æœ‰é‡åˆ°è¿‡æ ¼å¼ä¸å¯¹çš„æƒ…å†µï¼Œæ‰€ä»¥è¿™ä¸ªä»·æ ¼åº”è¯¥æ˜¯å¯ä»¥æ¥å—çš„

å¦‚æœä½ å‡ºç°äº†æ ¼å¼ä¸å¯¹çš„æƒ…å†µï¼Œå¯ä»¥é™„å¸¦bad caseç¤ºä¾‹**å‘issue**ï¼Œæˆ‘å°è¯•ä¼˜åŒ–ä¸‹prompt

#### OPENAI WHISPER

ç›¸æ¯”ä¹‹ä¸‹è¿™ä¸ªæœ‰ç‚¹è´µï¼Œ20å…ƒèƒ½è½¬å¤§æ¦‚8å°æ—¶è§†é¢‘

### ğŸ¤” ç›®å‰é—®é¢˜

1. ç›®å‰æ— æ³•å›å¤æ¥¼ä¸­æ¥¼è¯„è®ºçš„at
2. ä¸æ”¯æŒå¤špè§†é¢‘çš„æ€»ç»“
3. ä½ bä¸¥æ ¼çš„å®¡æŸ¥æœºåˆ¶å¯¼è‡´ç§ä¿¡/å›å¤æ¶ˆæ¯è§¦ç¢°æ•æ„Ÿè¯ä¼šè¢«å±è”½

### ğŸ“ TODO

- [ ] æ”¯æŒå¤šè´¦å·è´Ÿè½½å‡è¡¡ **(on progress)**
- [ ] å®Œå–„æµ‹è¯•ç”¨ä¾‹
- [ ] åŠ å…¥whisper-cppå¯¹æ¥

### â¤ æ„Ÿè°¢

[Nemo2011/bilibili-api](https://github.com/Nemo2011/bilibili-api/) | å°è£…bç«™apiåº“

### [å¼€å‘æ–‡æ¡£](./DEV_README.md)

### ğŸ“š å¤§è‡´æµç¨‹ï¼ˆæ›´è¯¦ç»†å†…å®¹æŒ‡è·¯ [å¼€å‘æ–‡æ¡£](./DEV_README.md)ï¼‰

```mermaid
sequenceDiagram
    participant ç”¨æˆ·
    participant ç›‘å¬å™¨
    participant å¤„ç†é“¾
    participant å‘é€å™¨
    participant LLMs
    participant ASRs
    ç”¨æˆ· ->> ç›‘å¬å™¨: å‘é€ç§ä¿¡æˆ–atæ¶ˆæ¯æ¶ˆæ¯
    alt æ¶ˆæ¯è§¦å‘å…³é”®è¯
        ç›‘å¬å™¨ ->> å¤„ç†é“¾: è§¦å‘å…³é”®è¯ï¼Œå¼€å§‹å¤„ç†
    else æ¶ˆæ¯ä¸è§¦å‘å…³é”®è¯
        ç›‘å¬å™¨ ->> ç”¨æˆ·: ä¸è§¦å‘å…³é”®è¯ï¼Œä¸å¤„ç†
    end
    å¤„ç†é“¾ ->> å¤„ç†é“¾: æ£€æŸ¥æ˜¯å¦æœ‰ç¼“å­˜
    alt æœ‰ç¼“å­˜
        å¤„ç†é“¾ ->> å‘é€å™¨: æœ‰ç¼“å­˜ï¼Œç›´æ¥å‘é€
    end
    å¤„ç†é“¾ ->> å¤„ç†é“¾: æ£€æŸ¥æ˜¯å¦æœ‰å­—å¹•
    alt æœ‰å­—å¹•
        å¤„ç†é“¾ ->> LLMs: æ ¹æ®è§†é¢‘ç®€ä»‹ã€æ ‡ç­¾ã€çƒ­è¯„ã€å­—å¹•æ„å»ºpromptå¹¶ç”Ÿæˆæ‘˜è¦
    else æ²¡æœ‰å­—å¹•
        å¤„ç†é“¾ ->> ASRs: è½¬è¯‘è§†é¢‘
        ASRs ->> ASRs: è‡ªåŠ¨è°ƒåº¦asræ’ä»¶ï¼Œé€‰æ‹©ä¸€ä¸ªå‘é€è¯·æ±‚
        ASRs ->> å¤„ç†é“¾: è½¬è¯‘å®Œæˆ
        å¤„ç†é“¾ ->> LLMs: æ ¹æ®è§†é¢‘ç®€ä»‹ã€æ ‡ç­¾ã€çƒ­è¯„ã€å­—å¹•æ„å»ºpromptå¹¶ç”Ÿæˆæ‘˜è¦
    end
    LLMs ->> å¤„ç†é“¾: æ‘˜è¦å†…å®¹
    å¤„ç†é“¾ ->> å¤„ç†é“¾: è§£ææ‘˜è¦æ˜¯å¦ç¬¦åˆè¦æ±‚
    alt æ‘˜è¦ç¬¦åˆè¦æ±‚
        å¤„ç†é“¾ ->> å‘é€å™¨: å‘é€æ‘˜è¦
        å‘é€å™¨ ->> ç”¨æˆ·: å‘é€æˆåŠŸ
    else æ‘˜è¦ä¸ç¬¦åˆè¦æ±‚
        å¤„ç†é“¾ ->> å¤„ç†é“¾: ä½¿ç”¨æŒ‡å®špromptä¿®å¤æ‘˜è¦
        å¤„ç†é“¾ ->> å‘é€å™¨: å‘é€æ‘˜è¦
        å‘é€å™¨ ->> ç”¨æˆ·: å‘é€æˆåŠŸ
    end
```


## License
[![FOSSA Status](https://app.fossa.com/api/projects/git%2Bgithub.com%2Fyanyao2333%2FBiliGPTHelper.svg?type=large)](https://app.fossa.com/projects/git%2Bgithub.com%2Fyanyao2333%2FBiliGPTHelper?ref=badge_large)